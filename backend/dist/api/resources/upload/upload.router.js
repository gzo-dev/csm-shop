"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.uploadRouter = void 0;
var _express = _interopRequireDefault(require("express"));
var _upload = _interopRequireDefault(require("./upload.controller"));
var multer = require('multer');
var uploadRouter = _express["default"].Router();
exports.uploadRouter = uploadRouter;
var storage = multer.diskStorage({
  destination: function destination(req, file, cb) {
    cb(null, 'x_image_blog/'); // Thư mục lưu trữ tệp đã tải lên
  },

  filename: function filename(req, file, cb) {
    cb(null, file.originalname); // Giữ nguyên tên của tệp
  }
});

var upload = multer({
  storage: storage
});
uploadRouter.route("/").post(upload.single("image"), _upload["default"].uploadImage);
uploadRouter.route("/change-host").post(_upload["default"].changeHost);
uploadRouter.route("/change-mime-type").post(_upload["default"].changeMimeType);
uploadRouter.route("/change-mime-type-db").post(_upload["default"].changeMimeTypeDb);
uploadRouter.route("/change-mime-type-db-1").post(_upload["default"].changeMimeTypeDb1);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3VwbG9hZCIsIm11bHRlciIsInVwbG9hZFJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJleHBvcnRzIiwic3RvcmFnZSIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlIiwicG9zdCIsInNpbmdsZSIsInVwbG9hZENvbnRyb2xsZXIiLCJ1cGxvYWRJbWFnZSIsImNoYW5nZUhvc3QiLCJjaGFuZ2VNaW1lVHlwZSIsImNoYW5nZU1pbWVUeXBlRGIiLCJjaGFuZ2VNaW1lVHlwZURiMSJdLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcGkvcmVzb3VyY2VzL3VwbG9hZC91cGxvYWQucm91dGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IHVwbG9hZENvbnRyb2xsZXIgZnJvbSBcIi4vdXBsb2FkLmNvbnRyb2xsZXJcIjtcclxuY29uc3QgbXVsdGVyID0gcmVxdWlyZSgnbXVsdGVyJyk7XHJcblxyXG5leHBvcnQgY29uc3QgdXBsb2FkUm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKTtcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgICAgY2IobnVsbCwgJ3hfaW1hZ2VfYmxvZy8nKSAvLyBUaMawIG3hu6VjIGzGsHUgdHLhu68gdOG7h3AgxJHDoyB04bqjaSBsw6puXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgICAgY2IobnVsbCwgZmlsZS5vcmlnaW5hbG5hbWUpIC8vIEdp4buvIG5ndXnDqm4gdMOqbiBj4bunYSB04buHcFxyXG4gICAgfVxyXG59KTtcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KTtcclxuXHJcbnVwbG9hZFJvdXRlci5yb3V0ZShcIi9cIikucG9zdCh1cGxvYWQuc2luZ2xlKFwiaW1hZ2VcIiksIHVwbG9hZENvbnRyb2xsZXIudXBsb2FkSW1hZ2UpXHJcbnVwbG9hZFJvdXRlci5yb3V0ZShcIi9jaGFuZ2UtaG9zdFwiKS5wb3N0KHVwbG9hZENvbnRyb2xsZXIuY2hhbmdlSG9zdClcclxudXBsb2FkUm91dGVyLnJvdXRlKFwiL2NoYW5nZS1taW1lLXR5cGVcIikucG9zdCh1cGxvYWRDb250cm9sbGVyLmNoYW5nZU1pbWVUeXBlKVxyXG51cGxvYWRSb3V0ZXIucm91dGUoXCIvY2hhbmdlLW1pbWUtdHlwZS1kYlwiKS5wb3N0KHVwbG9hZENvbnRyb2xsZXIuY2hhbmdlTWltZVR5cGVEYilcclxudXBsb2FkUm91dGVyLnJvdXRlKFwiL2NoYW5nZS1taW1lLXR5cGUtZGItMVwiKS5wb3N0KHVwbG9hZENvbnRyb2xsZXIuY2hhbmdlTWltZVR5cGVEYjEpIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBUSxDQUFDO0FBRXpCLElBQU1HLFlBQVksR0FBR0MsbUJBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFBQ0MsT0FBQSxDQUFBSCxZQUFBLEdBQUFBLFlBQUE7QUFFN0MsSUFBTUksT0FBTyxHQUFHTCxNQUFNLENBQUNNLFdBQVcsQ0FBQztFQUMvQkMsV0FBVyxFQUFFLFNBQUFBLFlBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDbENBLEVBQUUsQ0FBQyxJQUFJLEVBQUUsZUFBZSxDQUFDLEVBQUM7RUFDOUIsQ0FBQzs7RUFDREMsUUFBUSxFQUFFLFNBQUFBLFNBQVVILEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDL0JBLEVBQUUsQ0FBQyxJQUFJLEVBQUVELElBQUksQ0FBQ0csWUFBWSxDQUFDLEVBQUM7RUFDaEM7QUFDSixDQUFDLENBQUM7O0FBQ0YsSUFBTUMsTUFBTSxHQUFHYixNQUFNLENBQUM7RUFBRUssT0FBTyxFQUFFQTtBQUFRLENBQUMsQ0FBQztBQUUzQ0osWUFBWSxDQUFDYSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0YsTUFBTSxDQUFDRyxNQUFNLENBQUMsT0FBTyxDQUFDLEVBQUVDLGtCQUFnQixDQUFDQyxXQUFXLENBQUM7QUFDbEZqQixZQUFZLENBQUNhLEtBQUssQ0FBQyxjQUFjLENBQUMsQ0FBQ0MsSUFBSSxDQUFDRSxrQkFBZ0IsQ0FBQ0UsVUFBVSxDQUFDO0FBQ3BFbEIsWUFBWSxDQUFDYSxLQUFLLENBQUMsbUJBQW1CLENBQUMsQ0FBQ0MsSUFBSSxDQUFDRSxrQkFBZ0IsQ0FBQ0csY0FBYyxDQUFDO0FBQzdFbkIsWUFBWSxDQUFDYSxLQUFLLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0MsSUFBSSxDQUFDRSxrQkFBZ0IsQ0FBQ0ksZ0JBQWdCLENBQUM7QUFDbEZwQixZQUFZLENBQUNhLEtBQUssQ0FBQyx3QkFBd0IsQ0FBQyxDQUFDQyxJQUFJLENBQUNFLGtCQUFnQixDQUFDSyxpQkFBaUIsQ0FBQyJ9