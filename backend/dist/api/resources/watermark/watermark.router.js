"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.watermakRouter = void 0;
var _express = _interopRequireDefault(require("express"));
var _water = _interopRequireDefault(require("./water.controller"));
var multer = require('multer');
var watermakRouter = _express["default"].Router();
exports.watermakRouter = watermakRouter;
var storage = multer.diskStorage({
  destination: function destination(req, file, cb) {
    cb(null, 'uploads/'); // Thư mục lưu trữ tệp đã tải lên
  },

  filename: function filename(req, file, cb) {
    cb(null, file.originalname); // Giữ nguyên tên của tệp
  }
});

var upload = multer({
  storage: storage
});
watermakRouter.route("/").post(upload.single("file"), _water["default"].addWaterMark);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3dhdGVyIiwibXVsdGVyIiwid2F0ZXJtYWtSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZXhwb3J0cyIsInN0b3JhZ2UiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJyb3V0ZSIsInBvc3QiLCJzaW5nbGUiLCJ3YXRlckNvbnRyb2xsZXIiLCJhZGRXYXRlck1hcmsiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYXBpL3Jlc291cmNlcy93YXRlcm1hcmsvd2F0ZXJtYXJrLnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCB3YXRlckNvbnRyb2xsZXIgZnJvbSBcIi4vd2F0ZXIuY29udHJvbGxlclwiO1xyXG5jb25zdCBtdWx0ZXIgPSByZXF1aXJlKCdtdWx0ZXInKTtcclxuXHJcbmV4cG9ydCBjb25zdCB3YXRlcm1ha1JvdXRlciA9IGV4cHJlc3MuUm91dGVyKCk7XHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgICAgIGNiKG51bGwsICd1cGxvYWRzLycpIC8vIFRoxrAgbeG7pWMgbMawdSB0cuG7ryB04buHcCDEkcOjIHThuqNpIGzDqm5cclxuICAgIH0sXHJcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgICBjYihudWxsLCBmaWxlLm9yaWdpbmFsbmFtZSkgLy8gR2nhu68gbmd1ecOqbiB0w6puIGPhu6dhIHThu4dwXHJcbiAgICB9XHJcbn0pO1xyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pO1xyXG5cclxud2F0ZXJtYWtSb3V0ZXIucm91dGUoXCIvXCIpLnBvc3QodXBsb2FkLnNpbmdsZShcImZpbGVcIiksIHdhdGVyQ29udHJvbGxlci5hZGRXYXRlck1hcmspIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsTUFBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBTUUsTUFBTSxHQUFHRixPQUFPLENBQUMsUUFBUSxDQUFDO0FBRXpCLElBQU1HLGNBQWMsR0FBR0MsbUJBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFBQ0MsT0FBQSxDQUFBSCxjQUFBLEdBQUFBLGNBQUE7QUFFL0MsSUFBTUksT0FBTyxHQUFHTCxNQUFNLENBQUNNLFdBQVcsQ0FBQztFQUMvQkMsV0FBVyxFQUFFLFNBQUFBLFlBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDbENBLEVBQUUsQ0FBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLEVBQUM7RUFDekIsQ0FBQzs7RUFDREMsUUFBUSxFQUFFLFNBQUFBLFNBQVVILEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDL0JBLEVBQUUsQ0FBQyxJQUFJLEVBQUVELElBQUksQ0FBQ0csWUFBWSxDQUFDLEVBQUM7RUFDaEM7QUFDSixDQUFDLENBQUM7O0FBQ0YsSUFBTUMsTUFBTSxHQUFHYixNQUFNLENBQUM7RUFBRUssT0FBTyxFQUFFQTtBQUFRLENBQUMsQ0FBQztBQUUzQ0osY0FBYyxDQUFDYSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQ0YsTUFBTSxDQUFDRyxNQUFNLENBQUMsTUFBTSxDQUFDLEVBQUVDLGlCQUFlLENBQUNDLFlBQVksQ0FBQyJ9