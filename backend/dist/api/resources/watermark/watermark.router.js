"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.watermakRouter = void 0;
var _express = _interopRequireDefault(require("express"));
var _water = _interopRequireDefault(require("./water.controller"));
var multer = require('multer');
var watermakRouter = _express["default"].Router();
exports.watermakRouter = watermakRouter;
var storage = multer.diskStorage({
  destination: function destination(req, file, cb) {
    cb(null, 'uploads/'); // Thư mục lưu trữ tệp đã tải lên
  },

  filename: function filename(req, file, cb) {
    cb(null, file.originalname); // Giữ nguyên tên của tệp
  }
});

var upload = multer({
  storage: storage
});
watermakRouter.route("/").post(upload.single("file"), _water["default"].addWaterMark);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX3dhdGVyIiwibXVsdGVyIiwid2F0ZXJtYWtSb3V0ZXIiLCJleHByZXNzIiwiUm91dGVyIiwiZXhwb3J0cyIsInN0b3JhZ2UiLCJkaXNrU3RvcmFnZSIsImRlc3RpbmF0aW9uIiwicmVxIiwiZmlsZSIsImNiIiwiZmlsZW5hbWUiLCJvcmlnaW5hbG5hbWUiLCJ1cGxvYWQiLCJyb3V0ZSIsInBvc3QiLCJzaW5nbGUiLCJ3YXRlckNvbnRyb2xsZXIiLCJhZGRXYXRlck1hcmsiXSwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvYXBpL3Jlc291cmNlcy93YXRlcm1hcmsvd2F0ZXJtYXJrLnJvdXRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXG5pbXBvcnQgd2F0ZXJDb250cm9sbGVyIGZyb20gXCIuL3dhdGVyLmNvbnRyb2xsZXJcIjtcbmNvbnN0IG11bHRlciA9IHJlcXVpcmUoJ211bHRlcicpO1xuXG5leHBvcnQgY29uc3Qgd2F0ZXJtYWtSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcbiAgICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcbiAgICAgICAgY2IobnVsbCwgJ3VwbG9hZHMvJykgLy8gVGjGsCBt4bulYyBsxrB1IHRy4buvIHThu4dwIMSRw6MgdOG6o2kgbMOqblxuICAgIH0sXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XG4gICAgICAgIGNiKG51bGwsIGZpbGUub3JpZ2luYWxuYW1lKSAvLyBHaeG7ryBuZ3V5w6puIHTDqm4gY+G7p2EgdOG7h3BcbiAgICB9XG59KTtcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSk7XG5cbndhdGVybWFrUm91dGVyLnJvdXRlKFwiL1wiKS5wb3N0KHVwbG9hZC5zaW5nbGUoXCJmaWxlXCIpLCB3YXRlckNvbnRyb2xsZXIuYWRkV2F0ZXJNYXJrKSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE1BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQU1FLE1BQU0sR0FBR0YsT0FBTyxDQUFDLFFBQVEsQ0FBQztBQUV6QixJQUFNRyxjQUFjLEdBQUdDLG1CQUFPLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBQUNDLE9BQUEsQ0FBQUgsY0FBQSxHQUFBQSxjQUFBO0FBRS9DLElBQU1JLE9BQU8sR0FBR0wsTUFBTSxDQUFDTSxXQUFXLENBQUM7RUFDL0JDLFdBQVcsRUFBRSxTQUFBQSxZQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQ2xDQSxFQUFFLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxFQUFDO0VBQ3pCLENBQUM7O0VBQ0RDLFFBQVEsRUFBRSxTQUFBQSxTQUFVSCxHQUFHLEVBQUVDLElBQUksRUFBRUMsRUFBRSxFQUFFO0lBQy9CQSxFQUFFLENBQUMsSUFBSSxFQUFFRCxJQUFJLENBQUNHLFlBQVksQ0FBQyxFQUFDO0VBQ2hDO0FBQ0osQ0FBQyxDQUFDOztBQUNGLElBQU1DLE1BQU0sR0FBR2IsTUFBTSxDQUFDO0VBQUVLLE9BQU8sRUFBRUE7QUFBUSxDQUFDLENBQUM7QUFFM0NKLGNBQWMsQ0FBQ2EsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUNGLE1BQU0sQ0FBQ0csTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFQyxpQkFBZSxDQUFDQyxZQUFZLENBQUMifQ==