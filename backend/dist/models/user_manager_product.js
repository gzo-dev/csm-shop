"use strict";

module.exports = function (sequelize, DataTypes) {
  var user_manager_product = sequelize.define("user_manager_product", {
    product_id: {
      type: DataTypes.INTEGER,
      allowNull: true,
      references: {
        model: "Products",
        key: "id"
      }
    },
    user_manager: {
      type: DataTypes.INTEGER,
      allowNull: false,
      references: {
        model: "Users",
        key: "id"
      }
    },
    user_owner: {
      type: DataTypes.INTEGER,
      allowNull: true,
      references: {
        model: "Users",
        key: "id"
      }
    }
  }, {});
  user_manager_product.associate = function (models) {
    models.user_manager_product.belongsTo(models.user, {
      foreignKey: "user_manager",
      as: "managerUser" // Tên alias cho mối quan hệ
    });

    models.user_manager_product.belongsTo(models.user, {
      foreignKey: "user_owner",
      as: "userOwner" // Tên alias cho mối quan hệ
    });

    models.user_manager_product.belongsTo(models.product, {
      foreignKey: "product_id"
    });
  };
  return user_manager_product;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwidXNlcl9tYW5hZ2VyX3Byb2R1Y3QiLCJkZWZpbmUiLCJwcm9kdWN0X2lkIiwidHlwZSIsIklOVEVHRVIiLCJhbGxvd051bGwiLCJyZWZlcmVuY2VzIiwibW9kZWwiLCJrZXkiLCJ1c2VyX21hbmFnZXIiLCJ1c2VyX293bmVyIiwiYXNzb2NpYXRlIiwibW9kZWxzIiwiYmVsb25nc1RvIiwidXNlciIsImZvcmVpZ25LZXkiLCJhcyIsInByb2R1Y3QiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3VzZXJfbWFuYWdlcl9wcm9kdWN0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xyXG5tb2R1bGUuZXhwb3J0cyA9IChzZXF1ZWxpemUsIERhdGFUeXBlcykgPT4ge1xyXG4gIGNvbnN0IHVzZXJfbWFuYWdlcl9wcm9kdWN0ID0gc2VxdWVsaXplLmRlZmluZShcclxuICAgIFwidXNlcl9tYW5hZ2VyX3Byb2R1Y3RcIixcclxuICAgIHtcclxuICAgICAgcHJvZHVjdF9pZDoge1xyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJQcm9kdWN0c1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgdXNlcl9tYW5hZ2VyOiB7XHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgICAgYWxsb3dOdWxsOiBmYWxzZSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJVc2Vyc1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgICAgdXNlcl9vd25lcjoge1xyXG4gICAgICAgIHR5cGU6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICAgIGFsbG93TnVsbDogdHJ1ZSxcclxuICAgICAgICByZWZlcmVuY2VzOiB7XHJcbiAgICAgICAgICBtb2RlbDogXCJVc2Vyc1wiLFxyXG4gICAgICAgICAga2V5OiBcImlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSxcclxuICAgIH0sXHJcbiAgICB7fVxyXG4gICk7XHJcbiAgdXNlcl9tYW5hZ2VyX3Byb2R1Y3QuYXNzb2NpYXRlID0gZnVuY3Rpb24gKG1vZGVscykge1xyXG4gICAgbW9kZWxzLnVzZXJfbWFuYWdlcl9wcm9kdWN0LmJlbG9uZ3NUbyhtb2RlbHMudXNlciwge1xyXG4gICAgICBmb3JlaWduS2V5OiBcInVzZXJfbWFuYWdlclwiLFxyXG4gICAgICBhczogXCJtYW5hZ2VyVXNlclwiLCAvLyBUw6puIGFsaWFzIGNobyBt4buRaSBxdWFuIGjhu4dcclxuICAgIH0pO1xyXG4gICAgbW9kZWxzLnVzZXJfbWFuYWdlcl9wcm9kdWN0LmJlbG9uZ3NUbyhtb2RlbHMudXNlciwge1xyXG4gICAgICBmb3JlaWduS2V5OiBcInVzZXJfb3duZXJcIixcclxuICAgICAgYXM6IFwidXNlck93bmVyXCIsIC8vIFTDqm4gYWxpYXMgY2hvIG3hu5FpIHF1YW4gaOG7h1xyXG4gICAgfSk7XHJcbiAgICBtb2RlbHMudXNlcl9tYW5hZ2VyX3Byb2R1Y3QuYmVsb25nc1RvKG1vZGVscy5wcm9kdWN0LCB7XHJcbiAgICAgIGZvcmVpZ25LZXk6IFwicHJvZHVjdF9pZFwiLFxyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHVzZXJfbWFuYWdlcl9wcm9kdWN0O1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1pBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLFVBQUNDLFNBQVMsRUFBRUMsU0FBUyxFQUFLO0VBQ3pDLElBQU1DLG9CQUFvQixHQUFHRixTQUFTLENBQUNHLE1BQU0sQ0FDM0Msc0JBQXNCLEVBQ3RCO0lBQ0VDLFVBQVUsRUFBRTtNQUNWQyxJQUFJLEVBQUVKLFNBQVMsQ0FBQ0ssT0FBTztNQUN2QkMsU0FBUyxFQUFFLElBQUk7TUFDZkMsVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxVQUFVO1FBQ2pCQyxHQUFHLEVBQUU7TUFDUDtJQUNGLENBQUM7SUFDREMsWUFBWSxFQUFFO01BQ1pOLElBQUksRUFBRUosU0FBUyxDQUFDSyxPQUFPO01BQ3ZCQyxTQUFTLEVBQUUsS0FBSztNQUNoQkMsVUFBVSxFQUFFO1FBQ1ZDLEtBQUssRUFBRSxPQUFPO1FBQ2RDLEdBQUcsRUFBRTtNQUNQO0lBQ0YsQ0FBQztJQUNERSxVQUFVLEVBQUU7TUFDVlAsSUFBSSxFQUFFSixTQUFTLENBQUNLLE9BQU87TUFDdkJDLFNBQVMsRUFBRSxJQUFJO01BQ2ZDLFVBQVUsRUFBRTtRQUNWQyxLQUFLLEVBQUUsT0FBTztRQUNkQyxHQUFHLEVBQUU7TUFDUDtJQUNGO0VBQ0YsQ0FBQyxFQUNELENBQUMsQ0FDSCxDQUFDO0VBQ0RSLG9CQUFvQixDQUFDVyxTQUFTLEdBQUcsVUFBVUMsTUFBTSxFQUFFO0lBQ2pEQSxNQUFNLENBQUNaLG9CQUFvQixDQUFDYSxTQUFTLENBQUNELE1BQU0sQ0FBQ0UsSUFBSSxFQUFFO01BQ2pEQyxVQUFVLEVBQUUsY0FBYztNQUMxQkMsRUFBRSxFQUFFLGFBQWEsQ0FBRTtJQUNyQixDQUFDLENBQUM7O0lBQ0ZKLE1BQU0sQ0FBQ1osb0JBQW9CLENBQUNhLFNBQVMsQ0FBQ0QsTUFBTSxDQUFDRSxJQUFJLEVBQUU7TUFDakRDLFVBQVUsRUFBRSxZQUFZO01BQ3hCQyxFQUFFLEVBQUUsV0FBVyxDQUFFO0lBQ25CLENBQUMsQ0FBQzs7SUFDRkosTUFBTSxDQUFDWixvQkFBb0IsQ0FBQ2EsU0FBUyxDQUFDRCxNQUFNLENBQUNLLE9BQU8sRUFBRTtNQUNwREYsVUFBVSxFQUFFO0lBQ2QsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUVELE9BQU9mLG9CQUFvQjtBQUM3QixDQUFDIn0=