"use strict";

module.exports = function (sequelize, DataTypes) {
  var user = sequelize.define("user", {
    firstName: DataTypes.STRING,
    lastName: DataTypes.STRING,
    address: DataTypes.STRING,
    email: DataTypes.STRING,
    phone: DataTypes.STRING,
    role: DataTypes.STRING,
    verify: DataTypes.BOOLEAN,
    password: DataTypes.STRING,
    device1: DataTypes.STRING,
    device2: DataTypes.STRING,
    note: DataTypes.STRING,
    avatar: DataTypes.STRING,
    user_id: DataTypes.STRING,
    status: DataTypes.INTEGER,
    hidden: DataTypes.INTEGER,
    is_deleted: DataTypes.BOOLEAN,
    user_manager: {
      type: DataTypes.INTEGER,
      allowNull: true,
      references: {
        model: "Users",
        key: "id"
      }
    },
    otp: DataTypes.STRING
  }, {});
  user.associate = function (models) {
    models.user.belongsTo(models.user, {
      foreignKey: "user_manager",
      as: "userManager" // Tên alias cho mối quan hệ
    });

    models.user.hasMany(models.user_manager_product, {
      foreignKey: "user_manager",
      as: "managerUser"
    });
    models.user.hasMany(models.product, {
      foreignKey: "user_manager"
    });
  };
  return user;
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic2VxdWVsaXplIiwiRGF0YVR5cGVzIiwidXNlciIsImRlZmluZSIsImZpcnN0TmFtZSIsIlNUUklORyIsImxhc3ROYW1lIiwiYWRkcmVzcyIsImVtYWlsIiwicGhvbmUiLCJyb2xlIiwidmVyaWZ5IiwiQk9PTEVBTiIsInBhc3N3b3JkIiwiZGV2aWNlMSIsImRldmljZTIiLCJub3RlIiwiYXZhdGFyIiwidXNlcl9pZCIsInN0YXR1cyIsIklOVEVHRVIiLCJoaWRkZW4iLCJpc19kZWxldGVkIiwidXNlcl9tYW5hZ2VyIiwidHlwZSIsImFsbG93TnVsbCIsInJlZmVyZW5jZXMiLCJtb2RlbCIsImtleSIsIm90cCIsImFzc29jaWF0ZSIsIm1vZGVscyIsImJlbG9uZ3NUbyIsImZvcmVpZ25LZXkiLCJhcyIsImhhc01hbnkiLCJ1c2VyX21hbmFnZXJfcHJvZHVjdCIsInByb2R1Y3QiXSwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWxzL3VzZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbm1vZHVsZS5leHBvcnRzID0gKHNlcXVlbGl6ZSwgRGF0YVR5cGVzKSA9PiB7XHJcbiAgY29uc3QgdXNlciA9IHNlcXVlbGl6ZS5kZWZpbmUoXHJcbiAgICBcInVzZXJcIixcclxuICAgIHtcclxuICAgICAgZmlyc3ROYW1lOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBsYXN0TmFtZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYWRkcmVzczogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZW1haWw6IERhdGFUeXBlcy5TVFJJTkcsXHJcbiAgICAgIHBob25lOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICByb2xlOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICB2ZXJpZnk6IERhdGFUeXBlcy5CT09MRUFOLFxyXG4gICAgICBwYXNzd29yZDogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZGV2aWNlMTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgZGV2aWNlMjogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgbm90ZTogRGF0YVR5cGVzLlNUUklORyxcclxuICAgICAgYXZhdGFyOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICB1c2VyX2lkOiBEYXRhVHlwZXMuU1RSSU5HLFxyXG4gICAgICBzdGF0dXM6IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICBoaWRkZW46IERhdGFUeXBlcy5JTlRFR0VSLFxyXG4gICAgICBpc19kZWxldGVkOiBEYXRhVHlwZXMuQk9PTEVBTixcclxuICAgICAgdXNlcl9tYW5hZ2VyOiB7XHJcbiAgICAgICAgdHlwZTogRGF0YVR5cGVzLklOVEVHRVIsXHJcbiAgICAgICAgYWxsb3dOdWxsOiB0cnVlLFxyXG4gICAgICAgIHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIG1vZGVsOiBcIlVzZXJzXCIsXHJcbiAgICAgICAgICBrZXk6IFwiaWRcIixcclxuICAgICAgICB9LFxyXG4gICAgICB9LFxyXG4gICAgICBvdHA6IERhdGFUeXBlcy5TVFJJTkdcclxuICAgIH0sXHJcbiAgICB7fVxyXG4gICk7XHJcbiAgdXNlci5hc3NvY2lhdGUgPSBmdW5jdGlvbiAobW9kZWxzKSB7XHJcbiAgICBtb2RlbHMudXNlci5iZWxvbmdzVG8obW9kZWxzLnVzZXIsIHtcclxuICAgICAgZm9yZWlnbktleTogXCJ1c2VyX21hbmFnZXJcIixcclxuICAgICAgYXM6IFwidXNlck1hbmFnZXJcIiwgLy8gVMOqbiBhbGlhcyBjaG8gbeG7kWkgcXVhbiBo4buHXHJcbiAgICB9KTtcclxuICAgIG1vZGVscy51c2VyLmhhc01hbnkobW9kZWxzLnVzZXJfbWFuYWdlcl9wcm9kdWN0LCB7XHJcbiAgICAgIGZvcmVpZ25LZXk6IFwidXNlcl9tYW5hZ2VyXCIsXHJcbiAgICAgIGFzOiBcIm1hbmFnZXJVc2VyXCIsXHJcbiAgICB9KTtcclxuICAgIG1vZGVscy51c2VyLmhhc01hbnkobW9kZWxzLnByb2R1Y3QsIHtcclxuICAgICAgZm9yZWlnbktleTogXCJ1c2VyX21hbmFnZXJcIixcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiB1c2VyO1xyXG59O1xyXG4iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBQ1pBLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHLFVBQUNDLFNBQVMsRUFBRUMsU0FBUyxFQUFLO0VBQ3pDLElBQU1DLElBQUksR0FBR0YsU0FBUyxDQUFDRyxNQUFNLENBQzNCLE1BQU0sRUFDTjtJQUNFQyxTQUFTLEVBQUVILFNBQVMsQ0FBQ0ksTUFBTTtJQUMzQkMsUUFBUSxFQUFFTCxTQUFTLENBQUNJLE1BQU07SUFDMUJFLE9BQU8sRUFBRU4sU0FBUyxDQUFDSSxNQUFNO0lBQ3pCRyxLQUFLLEVBQUVQLFNBQVMsQ0FBQ0ksTUFBTTtJQUN2QkksS0FBSyxFQUFFUixTQUFTLENBQUNJLE1BQU07SUFDdkJLLElBQUksRUFBRVQsU0FBUyxDQUFDSSxNQUFNO0lBQ3RCTSxNQUFNLEVBQUVWLFNBQVMsQ0FBQ1csT0FBTztJQUN6QkMsUUFBUSxFQUFFWixTQUFTLENBQUNJLE1BQU07SUFDMUJTLE9BQU8sRUFBRWIsU0FBUyxDQUFDSSxNQUFNO0lBQ3pCVSxPQUFPLEVBQUVkLFNBQVMsQ0FBQ0ksTUFBTTtJQUN6QlcsSUFBSSxFQUFFZixTQUFTLENBQUNJLE1BQU07SUFDdEJZLE1BQU0sRUFBRWhCLFNBQVMsQ0FBQ0ksTUFBTTtJQUN4QmEsT0FBTyxFQUFFakIsU0FBUyxDQUFDSSxNQUFNO0lBQ3pCYyxNQUFNLEVBQUVsQixTQUFTLENBQUNtQixPQUFPO0lBQ3pCQyxNQUFNLEVBQUVwQixTQUFTLENBQUNtQixPQUFPO0lBQ3pCRSxVQUFVLEVBQUVyQixTQUFTLENBQUNXLE9BQU87SUFDN0JXLFlBQVksRUFBRTtNQUNaQyxJQUFJLEVBQUV2QixTQUFTLENBQUNtQixPQUFPO01BQ3ZCSyxTQUFTLEVBQUUsSUFBSTtNQUNmQyxVQUFVLEVBQUU7UUFDVkMsS0FBSyxFQUFFLE9BQU87UUFDZEMsR0FBRyxFQUFFO01BQ1A7SUFDRixDQUFDO0lBQ0RDLEdBQUcsRUFBRTVCLFNBQVMsQ0FBQ0k7RUFDakIsQ0FBQyxFQUNELENBQUMsQ0FDSCxDQUFDO0VBQ0RILElBQUksQ0FBQzRCLFNBQVMsR0FBRyxVQUFVQyxNQUFNLEVBQUU7SUFDakNBLE1BQU0sQ0FBQzdCLElBQUksQ0FBQzhCLFNBQVMsQ0FBQ0QsTUFBTSxDQUFDN0IsSUFBSSxFQUFFO01BQ2pDK0IsVUFBVSxFQUFFLGNBQWM7TUFDMUJDLEVBQUUsRUFBRSxhQUFhLENBQUU7SUFDckIsQ0FBQyxDQUFDOztJQUNGSCxNQUFNLENBQUM3QixJQUFJLENBQUNpQyxPQUFPLENBQUNKLE1BQU0sQ0FBQ0ssb0JBQW9CLEVBQUU7TUFDL0NILFVBQVUsRUFBRSxjQUFjO01BQzFCQyxFQUFFLEVBQUU7SUFDTixDQUFDLENBQUM7SUFDRkgsTUFBTSxDQUFDN0IsSUFBSSxDQUFDaUMsT0FBTyxDQUFDSixNQUFNLENBQUNNLE9BQU8sRUFBRTtNQUNsQ0osVUFBVSxFQUFFO0lBQ2QsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUVELE9BQU8vQixJQUFJO0FBQ2IsQ0FBQyJ9